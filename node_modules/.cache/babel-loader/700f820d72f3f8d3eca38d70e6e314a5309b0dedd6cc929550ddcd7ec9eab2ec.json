{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\smerd\\\\Desktop\\\\Adtension\\\\src\\\\pages\\\\Email.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport EmailItem from \"../components/EmailItem\";\nimport { setActiveTab as setActiveTabAction, setEmail as setEmailAction, addBanner as addBannerAction, updateEmailDisable, updateEmailIsNew, removeEmail as removeEmailAction } from '../redux/user';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction rand(a, b) {\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\nfunction Email() {\n  _s();\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user);\n  const emails = user.emails;\n  const setEmails = payload => dispatch(setEmailAction(payload));\n  const [openEmail, setOpenEmail] = useState(null);\n  const addBanner = payload => dispatch(addBannerAction(payload));\n  const removeEmail = payload => dispatch(removeEmailAction(payload));\n  const setActiveTab = payload => dispatch(setActiveTabAction(payload));\n  const handleClick = index => {\n    setOpenEmail(openEmail === index ? null : index);\n    dispatch(updateEmailIsNew({\n      index: emails.length - 1 - index,\n      value: false\n    }));\n  };\n  const generateColor = () => {\n    const v1 = rand(54, 213);\n    const v2 = Math.random() < 0.5 ? 213 : 54;\n    const v3 = Math.random() < 0.5 ? 213 : 54;\n    switch (rand(1, 6)) {\n      case 1:\n        return `rgb(${v1}, ${v2}, ${v3})`;\n      case 2:\n        return `rgb(${v1}, ${v3}, ${v2})`;\n      case 3:\n        return `rgb(${v2}, ${v1}, ${v3})`;\n      case 4:\n        return `rgb(${v2}, ${v3}, ${v1})`;\n      case 5:\n        return `rgb(${v3}, ${v1}, ${v2})`;\n      case 6:\n        return `rgb(${v3}, ${v2}, ${v1})`;\n      default:\n        return `rgb(213, 54, 54)`;\n    }\n  };\n  const handleRemoveEmail = index => {\n    removeEmail(emails.length - 1 - index);\n  };\n  const handleAddBanner = index => {\n    // @ts-ignore\n    addBanner({\n      ...emails[index],\n      isBanner: emails[index].type === 1,\n      isButton: emails[index].type === 2,\n      isLink: emails[index].type === 3,\n      x: 0,\n      y: 0,\n      width: 300,\n      height: 300,\n      color: generateColor(),\n      isSet: false\n    });\n    dispatch(updateEmailDisable({\n      index,\n      value: true\n    }));\n    setActiveTab(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tab px-12 mt-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [!emails.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl font-semibold mb-6\",\n        children: \"\\u041D\\u0435\\u0442 \\u043D\\u043E\\u0432\\u044B\\u0445 \\u043F\\u0438\\u0441\\u0435\\u043C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this) : null, [...emails].reverse().map((email, index) => /*#__PURE__*/_jsxDEV(EmailItem, {\n        ...email,\n        isOpen: openEmail === index,\n        onClick: () => handleClick(index),\n        onAdd: () => handleAddBanner(index),\n        onRemove: () => handleRemoveEmail(index)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n_s(Email, \"b8iRbnjej8BuJ4f5VisQ2Ju3jgM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Email;\nexport default Email;\nvar _c;\n$RefreshReg$(_c, \"Email\");","map":{"version":3,"names":["React","useState","EmailItem","setActiveTab","setActiveTabAction","setEmail","setEmailAction","addBanner","addBannerAction","updateEmailDisable","updateEmailIsNew","removeEmail","removeEmailAction","useSelector","useDispatch","jsxDEV","_jsxDEV","rand","a","b","Math","floor","random","Email","_s","dispatch","user","state","emails","setEmails","payload","openEmail","setOpenEmail","handleClick","index","length","value","generateColor","v1","v2","v3","handleRemoveEmail","handleAddBanner","isBanner","type","isButton","isLink","x","y","width","height","color","isSet","className","children","fileName","_jsxFileName","lineNumber","columnNumber","reverse","map","email","isOpen","onClick","onAdd","onRemove","_c","$RefreshReg$"],"sources":["C:/Users/smerd/Desktop/Adtension/src/pages/Email.tsx"],"sourcesContent":["import React, { useState, useEffect, } from 'react';\r\nimport EmailItem from \"../components/EmailItem\";\r\nimport { greetings, farewells, requests, names } from \"../scripts/emailTemplates\";\r\nimport { bannerList, badBannerList } from \"../scripts/bannerTemplates\";\r\nimport { Email as EmailInterface, Banner as BannerInterface, Anal, Rialto, Bot, } from '../scripts/types';\r\nimport { setActiveTab as setActiveTabAction, setEmail as setEmailAction, addBanner as addBannerAction, updateEmailDisable, updateEmailIsNew, removeEmail as removeEmailAction } from '../redux/user';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState } from '../redux/store';\r\n\r\nfunction rand(a: number, b: number): number {\r\n    return Math.floor(Math.random() * (b - a + 1) + a);\r\n}\r\n\r\nfunction Email() {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state: RootState) => state.user);\r\n    const emails = user.emails;\r\n    const setEmails = (payload: Array<EmailInterface>) => dispatch(setEmailAction(payload));\r\n    const [openEmail , setOpenEmail] = useState<null | number>(null);\r\n    const addBanner = (payload: BannerInterface) => dispatch(addBannerAction(payload));\r\n    const removeEmail = (payload: number) => dispatch(removeEmailAction(payload));\r\n    const setActiveTab = (payload: number) => dispatch(setActiveTabAction(payload));\r\n\r\n    const handleClick = (index: number) => {\r\n        setOpenEmail(openEmail === index ? null : index)\r\n\r\n        dispatch(updateEmailIsNew({\r\n            index: emails.length - 1 - index,\r\n            value: false,\r\n        }));\r\n    };\r\n\r\n    const generateColor = () => {\r\n        const v1 = rand(54, 213);\r\n        const v2 = (Math.random() < 0.5) ? 213 : 54;\r\n        const v3 = (Math.random() < 0.5) ? 213 : 54;\r\n        switch(rand(1, 6)) {\r\n            case 1:\r\n                return `rgb(${v1}, ${v2}, ${v3})`;\r\n            case 2:\r\n                return `rgb(${v1}, ${v3}, ${v2})`;\r\n            case 3:\r\n                return `rgb(${v2}, ${v1}, ${v3})`;\r\n            case 4:\r\n                return `rgb(${v2}, ${v3}, ${v1})`;\r\n            case 5:\r\n                return `rgb(${v3}, ${v1}, ${v2})`;\r\n            case 6:\r\n                return `rgb(${v3}, ${v2}, ${v1})`;\r\n            default:\r\n                return `rgb(213, 54, 54)`;\r\n        }\r\n    };\r\n\r\n    const handleRemoveEmail = (index: number) => {\r\n        removeEmail(emails.length - 1 - index);\r\n    };\r\n\r\n    const handleAddBanner = (index: number) => {\r\n        // @ts-ignore\r\n        addBanner({\r\n            ...emails[index],\r\n            isBanner: emails[index].type === 1,\r\n            isButton: emails[index].type === 2,\r\n            isLink: emails[index].type === 3,\r\n            x: 0,\r\n            y: 0,\r\n            width: 300,\r\n            height: 300,\r\n            color: generateColor(),\r\n            isSet: false,\r\n        });\r\n\r\n        dispatch(updateEmailDisable({\r\n            index,\r\n            value: true,\r\n        }));\r\n        setActiveTab(0);\r\n    };\r\n\r\n    return (\r\n        <div className=\"tab px-12 mt-8\">\r\n            <div>\r\n                {\r\n                    !emails.length ?\r\n                    <div className=\"text-xl font-semibold mb-6\">\r\n                        Нет новых писем\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                {\r\n                    [...emails].reverse().map((email, index) => (\r\n                        <EmailItem\r\n                            key={index}\r\n                            {...email}\r\n                            isOpen={openEmail === index}\r\n                            onClick={() => handleClick(index)}\r\n                            onAdd={() => handleAddBanner(index)}\r\n                            onRemove={() => handleRemoveEmail(index)}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Email;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}